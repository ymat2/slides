---
title: "GNU nanoエディタを便利に使う"
subtitle: "2023-05-09 牧野研 技術輪読回"
format: 
  revealjs:
    scrollable: true
    slide-number: c/t
    code-line-numbers: false
highlight-style: breeze
---

## smallでfriendlyなテキストエディタ `nano`

GNU`nano`はMacにもLinuxにも元から入っているテキストエディタ。

- 公式ドキュメント: [nano-editor.org/dist/latest/nano.html](https://www.nano-editor.org/dist/latest/nano.html)
- こちらもよろしくお願いします: [ymat2.github.io/commandline/nano/](https://ymat2.github.io/commandline/nano/)

<br>

新しいバージョンを入れて使うのもよい:

```bash
## Macならhomebrewでインストール
brew install nano

## Linux(Ubuntu)ならaptでインストール
sudo apt install nano
```



## 基本的な使い方

ファイル名を指定して開く。ファイルが存在しない場合は新しく作られる。

```bash
nano sample.md
```

<kbd>Control</kbd><kbd>X</kbd>
:   編集画面から出る。内容を変更している場合は上書きするかどうか聞かれる。

<kbd>Control</kbd><kbd>O</kbd>
:   編集内容を反映。上書き保存のイメージ。

<kbd>Control</kbd><kbd>K</kbd>
:   選択範囲を切り取る。範囲を選択していない場合カーソルのある行が切り取られる。

<kbd>Control</kbd><kbd>U</kbd>
:   切り取った内容をカーソル位置に張り付ける。

## `nano`を便利に使う1: Configuration

`~/.bash_profile`みたいに、`nano`も設定をファイルに書いておくことができる。

読み込まれる順番は、以下の通り。

1. `/etc/nanorc`    <small># おそらくデフォルトで存在する</small>
2. `~/.nanorc`    <small># これが一番楽</small>
3. `~/.config/nano/nanorc`    <small># 遺伝研のnanoは古すぎてこれは読んでくれない</small>

<br>

ホームに`.nanorc`を作ってみる:

```bash
cd  # homeディレクトリに移動
nano .nanorc  # .nanorcをnanoで編集
```

## `nano`を便利に使う1: Configuration

`set <option>`という書き方で設定をどんどん追加していく。

よく使う & 便利そうな設定を抜粋:

```{.bash filename=".nanorc"}
set tabsize 4     # Tabでインデントするときの幅をspace 4個分に。
set autoindent    # 改行時にインデントを揃える
set smooth        # スクロールがスムーズに
set linenumbers   # 行番号を表示する
```

その他のオプションは[公式ドキュメント](https://www.nano-editor.org/dist/latest/nano.html#Settings)を参照。

## `nano`を便利に使う2: シンタクスハイライト

シンタクスハイライトとは
:   関数、文字列、予約語とかに色をつけてコードを見やすくするあれ。
: ![](image/nano_highlight.png){width="450"}

(`/etc/nanorc`の設定にもよるが、)Macのデフォルトの`nano`はハイライトされていない...

それも`.nanorc`で設定できます!!

## `nano`を便利に使う2: シンタクスハイライト

1. ハイライト定義ファイルが置かれている場所を探す。
    - Mac: `/usr/local/share/nano/`
    - homebrewで入れた場合: `/usr/local/Cellar/nano/%v/share/doc/nano/`
    - Linux: `/usr/share/nano/`

2. `.nanorc`に以下を追記:
    
    ```{.bash filename=".nanorc"}
    include '/usr/share/nano/*.nanorc'
    ```

3. 適当なスクリプトを`nano`で開いて、ハイライトされているか見てみる。


## みなさんのおすすめエディタも教えてください!!

- 私は`nano`の設定こうしています！
- `vim`の方がはるかに高機能だというのを教えてあげよう
- 何言ってんの、時代は`vscode`でしょ
    - <small>個人的にvscodeを食わず嫌いしているのでぜひ誰かにやってほしい...</small>
- etc.
    
<br><hr>

#### 技術輪読会のネタについて

皆さんの意向をお聞きした上で、希望者が多ければ`git`を学ぶ回をやりたい。
